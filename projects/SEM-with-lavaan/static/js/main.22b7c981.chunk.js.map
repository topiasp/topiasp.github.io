{"version":3,"sources":["components/Table.js","components/ResultsTable.js","components/MeasuresTable.js","services/lavaan.js","components/ModelInput.js","components/Model.js","components/Demo.js","App.js","index.js"],"names":["Table","_ref","arrayOfCells","headers","Object","getOwnPropertyNames","cells","valueToCell","cell","react_default","a","createElement","key","Table_Table","striped","celled","Header","Row","map","header","HeaderCell","Body","join","cellsToRow","values","ResultsTable","results","components_Table","data","PE","MeasuresTable","FIT","baseUrl","lavaan","model","axios","post","ModelInput","handleModelInputChange","handleResponse","valuetext","Form","TextArea","type","onChange","rows","value","Button","onClick","e","preventDefault","console","log","lavaanService","then","response","Model","setModel","components_ModelInput","Demo","Container","fluid","Grid","centered","row","as","text","href","target","divided","columns","Column","width","components_Model","components_ResultsTable","components_MeasuresTable","App","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","setResults","useEffect","defaultModel","replace","components_Demo","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.22b7c981.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Table as SemanticTable } from 'semantic-ui-react'\r\n\r\n\r\nconst Table = ({ arrayOfCells }) => {\r\n\r\n    const headers = Object.getOwnPropertyNames(arrayOfCells[0])\r\n\r\n    let cells = 0\r\n\r\n    const valueToCell = cell =>   <td key={'id' + (cells++)}>{ cell }</td>\r\n\r\n    const cellsToRow = cells => {\r\n        return(\r\n            <tr key={ cells.join('') }>\r\n                { cells.map(cell => valueToCell(cell))}\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <SemanticTable striped celled>\r\n            <SemanticTable.Header>\r\n                <SemanticTable.Row>\r\n                    { headers.map(header=> <SemanticTable.HeaderCell key={header}>{ header }</SemanticTable.HeaderCell>) }\r\n                </SemanticTable.Row>\r\n            </SemanticTable.Header>\r\n            <SemanticTable.Body>\r\n                { arrayOfCells.map((cells) => cellsToRow(Object.values(cells))) }\r\n            </SemanticTable.Body>\r\n        </SemanticTable>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Table","import React from 'react'\r\n\r\nimport Table from './Table'\r\n\r\nconst ResultsTable = ({ results}) => {\r\n    if (results===null) {\r\n        return ''\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h3>Estimates:</h3>\r\n            <Table arrayOfCells={ results.data.PE }></Table>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ResultsTable","import React from 'react'\r\n\r\nimport Table from './Table'\r\n\r\nconst MeasuresTable = ({ results}) => {\r\n    if (results===null) {\r\n        return ''\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h3>Fit measures:</h3>\r\n            <Table arrayOfCells={ results.data.FIT }></Table>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default MeasuresTable","import axios from 'axios'\r\nconst baseUrl = 'https://lavaan.herokuapp.com' //'http://localhost:8080'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst fitModel = (model) => {\r\n    return axios.post(baseUrl+'/fit', model)\r\n}\r\nexport default { \r\n  getAll: getAll,\r\n  fitModel: fitModel\r\n}","import React from 'react'\r\nimport lavaanService from '../services/lavaan.js'\r\n\r\nimport { Button, Form, TextArea } from 'semantic-ui-react'\r\n\r\n\r\nconst ModelInput = ({ handleModelInputChange,  model,handleResponse }) => {\r\n\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault()\r\n        console.log('posting ', model)\r\n        lavaanService\r\n            .fitModel(model)\r\n            .then(response => {\r\n                console.log('response', response)\r\n                return( handleResponse( response ) )\r\n            })\r\n    }\r\n\r\n    const valuetext = model.model || ''\r\n\r\n    return(\r\n        <div>\r\n            <Form>\r\n                <TextArea type=\"text\" onChange={handleModelInputChange} rows=\"15\"  value={ valuetext }></TextArea>\r\n            </Form>\r\n            <Button onClick={handleClick }>Fit model</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ModelInput ","import React from 'react'\r\n\r\n\r\nimport ModelInput  from './ModelInput.js'\r\n\r\n\r\nconst Model = ({ model, setModel, handleModelInputChange, handleResponse }) => {\r\n\r\n    return(\r\n        <div>\r\n            <ModelInput handleModelInputChange={handleModelInputChange } model={model} handleResponse={handleResponse}></ModelInput>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Model ","import React from 'react'\r\n\r\nimport ResultsTable from './ResultsTable'\r\nimport MeasuresTable from './MeasuresTable'\r\nimport Model from './Model'\r\n\r\n\r\nimport { Header, Grid,  Container } from 'semantic-ui-react'\r\n\r\nconst Demo = ({ model, setModel, handleModelInputChange, handleResponse, results }) => {\r\n\r\n    return(\r\n    <Container fluid>\r\n\r\n        <Grid>\r\n            <Grid.Row centered row>\r\n            <Header as=\"h1\">SEM with lavaan within the browser - an example with the PoliticalDemocracy -dataset</Header>\r\n            <Container text>\r\n                About the dataset and lavaan, see this <a href=\"http://lavaan.ugent.be/tutorial/sem.html\" target=\"_blank\">tutorial.</a>\r\n            </Container>\r\n            </Grid.Row>\r\n\r\n        </Grid>\r\n            \r\n        <Grid divided='vertically'>\r\n            <Grid.Row columns={3}>\r\n                <Grid.Column width=\"3\">\r\n                    <Model model={model} setModel={setModel} handleModelInputChange={handleModelInputChange} handleResponse={handleResponse}/>\r\n                </Grid.Column>\r\n                <Grid.Column width=\"8\">\r\n                    <ResultsTable results={results}/>\r\n                </Grid.Column>\r\n                <Grid.Column width=\"5\">\r\n                    <MeasuresTable results={results}/>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n\r\n\r\n\r\n \r\n    \r\n    </Container>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Demo","import React, { useState, useEffect } from 'react'\nimport { Container } from 'semantic-ui-react'\n\n\nimport Demo from './components/Demo'\n\n\nimport './App.css';\n\n\nfunction App() {\n\n  // State\n  const [model,setModel] = useState({ model: null })\n  const [results, setResults] = useState(null)\n\n  // Effects\n  useEffect( ()  => {\n    let defaultModel = `\n    # measurement model\n      ind60 =~ x1 + x2 + x3\n      dem60 =~ y1 + y2 + y3 + y4\n      dem65 =~ y5 + y6 + y7 + y8\n    # regressions\n      dem60 ~ ind60\n      dem65 ~ ind60 + dem60\n    # residual correlations\n      y1 ~~ y5\n      y2 ~~ y4 + y6\n      y3 ~~ y7\n      y4 ~~ y8\n      y6 ~~ y8\n    `\n    defaultModel = defaultModel.replace(/[ ]{2,}/gm,'')\n\n    setModel({model: defaultModel})\n  }, [])\n\n  // Handlers\n  const handleModelInputChange = (e) => {\n    e.preventDefault()\n\n    setModel({\n      model: e.target.value\n    })\n\n  }\n\n  const handleResponse = (response) => {\n    setResults(response)\n  }\n  return (\n      <Demo \n        model={model}\n        setModel={setModel}\n        handleModelInputChange={handleModelInputChange}\n        handleResponse={handleResponse}\n        results = { results }\n        />\n  )\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}