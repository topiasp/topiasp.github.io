(window["webpackJsonpmplus-output-viewer"]=window["webpackJsonpmplus-output-viewer"]||[]).push([[0],{147:function(e,t,n){e.exports=n(287)},287:function(e,t,n){"use strict";n.r(t);var r=n(33),a=n.n(r),l=n(74),u=n(0),c=n.n(u),o=n(296),s=n(298),i=n(300),m=n(301),d=n(35),f=function(e){var t=e.mplusOutput;if(null===t)return"";var n=void 0!==t.parsed.NumberOfGroups?c.a.createElement(d.b,{to:"groupcomparison",style:{textDecoration:"none"}},c.a.createElement(i.a.Item,null,"Group comparison")):null;return c.a.createElement(m.a,{columns:1,doubling:!0},c.a.createElement(m.a.Column,null,c.a.createElement(i.a,null,c.a.createElement(d.b,{to:"wholeoutput",style:{textDecoration:"none"}},c.a.createElement(i.a.Item,null,"Whole output")),c.a.createElement(d.b,{to:"modelresults",style:{textDecoration:"none"}},c.a.createElement(i.a.Item,null,"Model results")),c.a.createElement(d.b,{to:"standardizedmodelresults",style:{textDecoration:"none"}},c.a.createElement(i.a.Item,null,"Standardized model results")),n)))},p=n(29),h=function(e){for(var t=e.regex,n=0,r=[],a="";null!==(a=t.exec(e.string));)r.push({result:a[0],id:"C"+n,contentStart:a.index+a[0].length,start:a.index}),n++;return{occurances:r,string:e.string}},v=function(e){var t=e.occurances;t[t.length-1].end=e.string.length;for(var n=t.length-2;n>=0;n--)t[n].end=t[n+1].start-1;return e.occurances=t,e},E=function(e){var t=e.occurances,n=e.string,r=[];for(var a in t){var l=t[a];r.push({header:l,id:l.id,content:n.substring(l.contentStart,l.end).split("\n")})}return e.occurances=r,e},g=function(e){var t=h({string:e.string,start:0,chapters:[],regex:e.regex});return e.filteringRegex&&(t.occurances=t.occurances.filter(function(t){return!e.filteringRegex.test(t.result)})),t=v(t),E(t).occurances},b=function(e){var t=e[0].content.filter(function(e){return e.toLowerCase().indexOf("title:")>-1});return void 0===t?void 0:t[0]},y=function(e){var t=e.match(/(Number of groups[ ]+[0-9]{1,2})/);return null===t?void 0:1*t[0].replace(/[^0-9]/g,"")},O=function(e){for(var t=e.cell,n=e.headercount;t.keys.length+t.values.length<n;)t.values.push("");return t},x=function(e){var t=h({string:e.content.join("\n"),start:0,chapters:[],regex:/(.+[A-Za-z]$)/gm});t=v(t);var n=E(t).occurances.map(function(e){return function(e){var t=e.content.map(function(e){return e.split(/([A-Z_\-0-9.$]+)/).filter(function(e){return/[A-Z0-9]/.test(e)})}).filter(function(e){return e.length>0});return t.map(function(t){return function(e,t){var n={};return n.keys=[t,e[0]],e.splice(0,1),n.values=e,n}(t,e.header.result)})}(e)});return n=n.map(function(t){return t.map(function(t){return function(e,t){return e.keys=[t].concat(e.keys),e}(t,e.header.result)})})},w=function(e){var t,n=e.chapters,r=e.headerToFind,a=e.tableheaders,l=e.NumberOfGroups;void 0===n|null===n&&alert("No output loaded to get model results from!");var u=n.filter(function(e){return e.header.result===r})[0];if(void 0!==l&l>1){t=(t=g({string:u.content.join("\n"),regex:/Group [A-Z_]+$/gm}).map(function(e){return x(e)}).map(function(e){return e.flat()}).flat()).map(function(e){return O({cell:e,headercount:a.length})})}else{t=(t=x(u).map(function(e){return e.flat()}).flat()).map(function(e){return O({cell:e,headercount:a.length})})}return t},k=function(e,t){var n=t.keys.slice(1,3).join("");return void 0===e[n]?e[n]={keys:t.keys.slice(1,3),values:[{group:t.keys[0],values:t.values}]}:e[n].values.push({group:t.keys[0],values:t.values}),e},S=function(e){var t=e.cells,n=e.variables,r=Object.values(t.reduce(k,{}));return(r=n.map(function(e,t){return r.map(function(n){return function(e,t,n){return e.values.map(function(r){return{keys:e.keys.concat(t).concat(r.group),value:r.values[n]}})}(n,e,t)})}).flat()).flat()},L=function(e){var t={};t.chapters=g({string:e,regex:/(^[A-Z][A-Z 0-9]+[A-Z]$)/gm,filteringRegex:/ (BY|WITH|ON)$/m}),t.title=b(t.chapters),t.NumberOfGroups=y(e);var n=["Estimate","S.E.","Est/S.E.","P-Value"],r=["Column1","Column2","Column3"].concat(n),a="MODEL RESULTS",l=w({chapters:t.chapters,headerToFind:a,tableheaders:r,NumberOfGroups:t.NumberOfGroups});return t.modelResults={header:a,cells:S({cells:l,variables:n})},a="STANDARDIZED MODEL RESULTS",l=w({chapters:t.chapters,headerToFind:a,tableheaders:r,NumberOfGroups:t.NumberOfGroups}),t.standardizedModelResults={header:a,cells:S({cells:l,variables:n})},t.groups=function(e){var t=e.reduce(function(e,t){return e[t]=1,e},{});return Object.getOwnPropertyNames(t)}(t.modelResults.cells.map(function(e){return e.group})),t},R=n(302),C=n(288),A=n(295),N=function(e){var t=e.handleFileLoad;if(null!==e.mplusOutput)return"";return c.a.createElement("div",null,c.a.createElement(R.a,null,"Load .out file"),c.a.createElement(C.a,null,c.a.createElement(A.a,{type:"file",style:{display:"block",color:"red"},onChange:t}),"Load"))},T=n(299),j=function(e){var t=e.results;if(null===t)return"";var n=t.cells;return c.a.createElement(o.a,null,c.a.createElement(R.a,null,t.header),c.a.createElement(T.a,null,c.a.createElement(T.a.Body,null,n.map(function(e){return c.a.createElement(T.a.Row,null,e.keys.concat(e.value).map(function(e){return c.a.createElement(T.a.Cell,null,e)}))}))))},D=n(297),G=function(e){var t=e.mplusOutput,n=Object(u.useState)([]),r=Object(l.a)(n,2),a=r[0],o=r[1],i=null===t?[]:t.parsed.chapters.map(function(e){return e.header.result});if(null===t)return"";var d=t.parsed.chapters,f=function(e){return a.indexOf(e)>-1},p=function(e){var t,n=e.target.innerText;o(f(t=n)?a.filter(function(e){return e!==t}):a.concat(t))};return c.a.createElement(m.a,{columns:2,doubling:!0},c.a.createElement(m.a.Column,{width:4},c.a.createElement(m.a.Row,null,c.a.createElement(C.a,{onClick:function(){a.length!==i.length?o(i):o([])}},a.length!==i.length?"SELECT ALL":"DESELECT ALL")),c.a.createElement(m.a.Row,null,c.a.createElement(s.a,null,i.map(function(e){var t=f(e);return c.a.createElement(m.a.Row,{key:"checkbox_"+e},c.a.createElement(D.a,{label:e,checked:t,onChange:p}))})))),c.a.createElement(m.a.Column,{width:12},d.map(function(e,t){return function(e,t){var n={whiteSpace:"pre-wrap",fontFamily:"Consolas",display:f(e.header)?"":"none"};return c.a.createElement("div",null,c.a.createElement("div",null),c.a.createElement(R.a,{style:n},e.header),c.a.createElement("div",{key:"chapter_"+t,style:n,dangerouslySetInnerHTML:{__html:e.content}}))}({content:e.content.join("\n"),header:e.header.result},t)})))},I=function(){var e=Object(u.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];return c.a.createElement(o.a,null,c.a.createElement(d.a,null,c.a.createElement(N,{mplusOutput:n,handleFileLoad:function(e){var t=e.target,n=t.files[0],a=new FileReader;a.onload=function(){r({string:a.result,filename:t.files[0].name,parsed:L(a.result)})},a.readAsText(n,"ISO-881")}}),c.a.createElement(s.a,null,c.a.createElement(f,{mplusOutput:n})),c.a.createElement(p.a,{path:"/wholeoutput",render:function(){return c.a.createElement(G,{mplusOutput:n})}}),c.a.createElement(p.a,{path:"/modelresults",render:function(){return c.a.createElement(j,{results:null!==n?n.parsed.modelResults:null})}}),c.a.createElement(p.a,{path:"/standardizedmodelresults",render:function(){return c.a.createElement(j,{results:null!==n?n.parsed.standardizedModelResults:null})}})))};a.a.render(c.a.createElement(I,null),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.f9cd0679.chunk.js.map